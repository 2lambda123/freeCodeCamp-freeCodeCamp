---
id: 66f55eac933ff64ce654ca74
title: Build a Markdown to HTML Converter
challengeType: 14
dashedName: build-a-markdown-to-html-converter
demoType: onClick
---

# --description--

**Objective:** Fulfill the user stories below and get all the tests to pass to complete the lab. 

**User Stories:**

1. You should have a function named `convertMarkdown` that takes no parameter.
1. The `convertMarkdown` function should convert the markdown input from `#markdown-input` into HTML and should return a string containing the HTML code.
Here's a table containing all the markdown that `convertMarkdown` should be able to handle and the expected HTML after conversion:

    | Markdown | HTML |
    |----------|------|
    | `# heading 1` | `<h1>heading 1</h1>` |
    | `## heading 2` | `<h2>heading 2</h2>` |
    | `### heading 3` | `<h3>heading 3</h3>` |
    | `**bold text**` or `__bold text__` | `<strong>bold text</strong>` |
    | `*italic text*` or `_italic text_` | `<em>italic text</em>` |
    | `![alt-text](image-source)` | `<img alt="alt-text" src="image-source">` |
    | `[link text](URL)` | `<a href="URL">link text</a>` |
    | `> quote` | `<blockquote>quote</blockquote>` |

1. When you input text inside `#markdown-input`, the raw HTML code returned by `convertMarkdown` should be displayed inside `#html-ouput`.

# --hints--

Test 1

```js

```

# --seed--

## --seed-contents--

```html
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Markdown to HTML Converter</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <h1>Markdown to HTML Converter</h1>
    <textarea id="markdown-input" placeholder="Enter your markdown here..."></textarea>
    <h2>HTML:</h2>
    <div id="html-output"></div>
    <script src="script.js"></script>
</body>

</html>
```

```css
* {
    box-sizing: border-box;
}

body {
    font-family: Arial, sans-serif;
    padding: 20px;
}
#markdown-input {
    width: 100%;
    height: 200px;
}
#html-output {
    display: inline-block;
    width: 100%;
    border: 1px solid #ccc;
    padding: 10px;
    margin: 20px auto 20px;
    white-space: pre-wrap;
    background-color: #f9f9f9;
}
```

```js

```

# --solutions--

```html
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Markdown to HTML Converter</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <h1>Markdown to HTML Converter</h1>
    <textarea id="markdown-input" placeholder="Enter your markdown here..."></textarea>
    <h2>HTML:</h2>
    <div id="html-output"></div>
    <script src="script.js"></script>
</body>

</html>
```

```css
* {
    box-sizing: border-box;
}

body {
    font-family: Arial, sans-serif;
    padding: 20px;
}
#markdown-input {
    width: 100%;
    height: 200px;
}
#html-output {
    display: inline-block;
    width: 100%;
    border: 1px solid #ccc;
    padding: 10px;
    margin: 20px auto 20px;
    white-space: pre-wrap;
    background-color: #f9f9f9;
}
```

```js
const patternReplacementArray = [
    { h6: [/^######[ \t](.+$)/gm, "<h6>$1</h6>\n"] },
    { h5: [/^#####[ \t](.+$)/gm, "<h5>$1</h5>\n"] },
    { h4: [/^####[ \t](.+$)/gm, "<h4>$1</h4>\n"] },
    { h3: [/^###[ \t](.+$)/gm, "<h3>$1</h3>\n"] },
    { h2: [/^##[ \t](.+$)/gm, "<h2>$1</h2>\n"] },
    { h1: [/^#[ \t](.+$)/gm, "<h1>$1</h1>\n"] },
    { hr: [/(?<=\n|^)---(?=\n|$)/, "<hr>\n"] },
    { strong: [/((?:\*|_){2})(.*?)\1/g, "<strong>$2</strong>"] },
    { em: [/(\*|_)(.*?)\1/g, "<em>$2</em>"] },
    { img: [/!\[\s*(.*?)\s*\]\(\s*(.*?)\s*\)/g, '<img alt="$1" src="$2">'] },
    { a: [/\[(.*?)\]\(\s*(.*?)\s*\)/g, '<a href="$2">$1</a>'] },
    { blockquote1: [/^> ([^\n]+?)$/gm, "<blockquote>$1</blockquote>\n"] },
    { blockquote2: [/(?<=<blockquote>)(.+?)<\/blockquote>\n\n^([^<\n]+?)$/gm, "$1 $2</blockquote>\n"] },
    { ul: [/(?:^[-*+]\s+.*?$\n)+\s*?/gm, "<ul>\n$&</ul>\n\n"] },
    { ol: [/(?:^\d*\.\s+?\w.*?$\n)+\s*?/gm, "<ol>\n$&</ol>\n\n"] },
    { uli: [/^[-*+]\s+(.*?$)\n/gm, "<li>$1</li>\n"] },
    { oli: [/^\d*\.\s+?(.*?$)\n/gm, "<li>$1</li>\n"] },
    { p1: [/^([^<>\s].*?)(?=\n\s*$)/gsm, "<p>$1</p>\n"] },
    { p2: [/^\w*?(?:<strong>|<em>).+(?:<\/strong>|<\/em>)\s*\w*?[ \t]*$/gm, "<p>$&</p>\n"] }
]

const markdownInput = document.getElementById('markdown-input');
const convertMarkdown = () => {
    let markdown = markdownInput.value;
    let matchUList = false;
    let matchOList = false;
    patternReplacementArray.forEach((item) => {
        const [key] = Object.keys(item);
        const [pattern, replacement] = Object.values(item)[0];
        if (key === "blockquote2") {
            while (markdown.match(pattern)) {
                markdown = markdown.replace(pattern, replacement);
            }
        } else if (key === "ul") {
            if (markdown.match(pattern)) {
                matchUList = true;
                markdown = markdown.replace(pattern, replacement);
            }

        } else if (key === "ol") {
            if (markdown.match(pattern)) {
                matchOList = true;
                markdown = markdown.replace(pattern, replacement);
            }

        } else if (key === "uli" && !matchUList) {
            return;
        } else if (key === "oli" && !matchOList) {
            return;
        } else {
            markdown = markdown.replace(pattern, replacement);
        }
    })
    return markdown;
}

markdownInput.addEventListener('input', () => {
    const html = convertMarkdown();
    const out = document.getElementById('html-output');
    out.textContent = html;
});
```
