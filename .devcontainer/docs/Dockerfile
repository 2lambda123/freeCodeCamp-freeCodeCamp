FROM node:18-alpine

# Install git
RUN apk add --no-cache git

# Install docsify-cli
RUN npm install -g docsify-cli
# Install prettier and eslint for prettifying and linting
RUN npm install -g prettier eslint

# Test
ENV TEST_ENV=TEST
ENV HOME_LOCATION=https://$(CODESPACE_NAME)-8000.$(GITHUB_CODESPACES_PORT_FORWARDING_DOMAIN)
ENV API_LOCATION=https://$(CODESPACE_NAME)-3000.$(GITHUB_CODESPACES_PORT_FORWARDING_DOMAIN)
ENV CYPRESS_BASE_URL=https://$(CODESPACE_NAME)-8000.$(GITHUB_CODESPACES_PORT_FORWARDING_DOMAIN)
ENV REACT_APP_CHALLENGE_EDITOR_API_LOCATION=https://$(CODESPACE_NAME)-3200.$(GITHUB_CODESPACES_PORT_FORWARDING_DOMAIN)
ENV CHALLENGE_EDITOR_CLIENT_LOCATION=https://$(CODESPACE_NAME)-3300.$(GITHUB_CODESPACES_PORT_FORWARDING_DOMAIN)
