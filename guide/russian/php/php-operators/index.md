---
title: PHP Operators
localeTitle: Операторы PHP
---
## Операторы PHP

 Оператором называется нечто, принимающее одно или более значений (или выражений, если говорить на жаргоне программирования), и вычисляющее новое значение (таким образом, вся конструкция может рассматриваться как выражение).

Операторы можно сгруппировать по количеству принимаемых ими значений. Унарные операторы принимают только одно значение, например, ! (оператор логического отрицания) или ++ (инкремент). Бинарные операторы принимают два значения; это, например, знакомые всем арифметические операторы + (плюс) и - (минус), большинство поддерживаемых в PHP операторов входят именно в эту категорию. Ну и, наконец, есть всего один тернарный оператор, ? :, принимающий три значения, обычно его так и называют -- "тернарный оператор" (хотя, возможно, более точным названием было бы "условный оператор"). 

### Приоритет оператора
 Приоритет оператора определяет, насколько "тесно" он связывает между собой два выражения. Например, выражение 1 + 5 * 3 вычисляется как 16, а не 18, поскольку оператор умножения ("*") имеет более высокий приоритет, чем оператор сложения ("+"). Круглые скобки могут использоваться для принудительного указания порядка выполнения операторов. Например, выражение (1 + 5) * 3 вычисляется как 18.

Если операторы имеют равный приоритет, то будут ли они выполняться справа налево или слева направо определяется их ассоциативностью. К примеру, "-" является лево-ассоциативным оператором. Следовательно 1 - 2 - 3 сгруппируется как (1 - 2) - 3 и пересчитается в -4. С другой стороны "=" - право-ассоциативный оператор, так что $a = $b = $c сгруппируется как $a = ($b = $c).

Неассоциативные операторы с одинаковым приоритетом не могут использоваться совместно. К примеру 1 < 2 > 1 не будет работать в PHP. Выражение 1 <= 1 == 1, с другой стороны, будет, поскольку == имеет более низкий приоритет чем <=.

Использование скобок, кроме случаев когда они строго необходимы, может улучшить читаемость кода, группируя явно, а не полагаясь на приоритеты и ассоциативность.

В следующей таблице приведен список операторов, отсортированный по убыванию их приоритетов. Операторы, размещенные в одной строке имеют одинаковый приоритет и порядок их выполнения определяется исходя из их ассоциативности.

**Порядок выполнения операторов**

| Ассоциативность | Оператор                                                 | Дополнительная информация                      |
|-----------------|----------------------------------------------------------|------------------------------------------------|
| неассоциативна  | clone new                                                | clone и new                                    |
| левая           | [                                                        | array()                                        |
| правая          | **                                                       | арифметические операторы                       |
| правая          | ++ -- ~ (int) (float) (string) (array) (object) (bool) @ | типы и инкремент/декремент                     |
| неассоциативна  | instanceof                                               | типы                                           |
| правая          | !                                                        | логические операторы                           |
| левая           | * / %                                                    | арифметические операторы                       |
| левая           | + - .                                                    | арифметические операторы и строковые операторы |
| левая           | << >>                                                    | побитовые операторы                            |
| неассоциативна  | < <= > >=                                                | операторы сравнения                            |
| неассоциативна  | == != === !== <> <=>                                     | операторы сравнения                            |
| левая           | &                                                        | побитовые операторы и ссылки                   |
| левая           | ^                                                        | побитовые операторы                            |
| левая           | |                                                        | побитовые операторы                            |
| левая           | &&                                                       | логические операторы                           |
| левая           | ||                                                       | логические операторы                           |
| правая          | ??                                                       | операторы сравнения                            |
| левая           | ? :                                                      | тернарный оператор                             |
| правая          | = += -= *= **= /= .= %= &= |= ^= <<= >>=                 | операторы присваивания                         |
| левая           | and                                                      | логические операторы                           |
| левая           | xor                                                      | логические операторы                           |
| левая           | or                                                       | логические операторы                           |

#### Пример #1 Ассоциативность
```

<?php
$a = 3 * 3 % 5; // (3 * 3) % 5 = 4
// ассоциативность тернарного оператора отличается от C/C++
$a = true ? 0 : true ? 1 : 2; // (true ? 0 : true) ? 1 : 2 = 2

$a = 1;
$b = 2;
$a = $b += 3; // $a = ($b += 3) -> $a = 5, $b = 5
?>

```

Приоритет и ассоциативность оператора определяет только то, как группируется выражение, а не порядок его вычисления. Обычно PHP не указывает, в каком порядке вычисляются выражения и кода, который предполагает специфичный порядок вычисления следует избегать, потому, что поведение может меняться в разных версиях PHP или в зависимости от окружающего кода. 

#### Пример #2 Неопределенный порядок вычисления
```

<?php
$a = 1;
echo $a + $a++; // может вывести как 2 так и 3

$i = 1;
$array[$i] = $i++; // может установить индекс как 1, так 2
?>
```
#### Пример #3 +, - и . имеют одинаковый приоритет
```
<?php
$x = 4;
// следующий код может выдать неожиданный результат:
echo "x минус 1 равно " . $x-1 . ", ну я надеюсь\n";
// поскольку он вычисляется таким образом:
echo (("x минус один равно " . $x) - 1) . ", ну я надеюсь\n";
// требуемый приоритет следует задать скобками:
echo "x минус 1 равно " . ($x-1) . ", ну я надеюсь\n";
?>
```
Результат выполнения данного примера:
```
-1, ну я надеюсь
-1, ну я надеюсь
x минус один равно 3, ну я надеюсь
```
**Замечание:**
Несмотря на то, что = имеет более низкий приоритет, чем большинство других операторов, PHP все же позволяет делать так: if (!$a = foo()), в этом примере результат выполнения foo() будет присвоен $a. 
